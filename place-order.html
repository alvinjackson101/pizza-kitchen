<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>South Park Pizza</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="styles.css" />
</head>


<body>
    
    <div class="bg"></div>

    <div class="center" >
        
        <div><img src ="hostess-greet.png" id="hostess-greet" class="paused"/></div>
        <div><input type="button" onclick="getGreet()" class="button" value="Order Leftover Pizza Now!"/></div>
        <div><img src="chef1.png" id="chef" /></div>
        <div><img src="fridge.png" id="fridge" /></div>
    </div>
    
</body>

<script>
    let picture = document.getElementById("hostess-greet");
    let button = document.getElementById("pause");

    function toggleChef(e) {
        picture.classList.toggle('paused');
    }

    function listener(event) {
        console.log(event)
        switch(event.type) {

            // new case for if event.target has the paused class

            // case animation start and not paused
            case "animationstart":
                // picture.attributes['src'].nodeValue = "hostees-walking-to-fridge.png"
            break;

            case "animationend":
            console.log('end');
            break;

            case "animationiteration":
                if(picture.attributes["src"].nodeValue.indexOf('fridge') > 0) {
                    picture.attributes['src'].nodeValue = "hostess-greet.png";
                }
                else {
                    picture.attributes['src'].nodeValue = "hostees-walking-to-fridge.png"
                }
            console.log(`new loop started after ${event.elapsedTime} seconds`);
            break;
        }
    }
    picture.addEventListener("animationstart",listener, false);
    picture.addEventListener("animationend",listener, false);
    picture.addEventListener("animationiteration",listener, false);

    // button.addEventListener("click", toggleChef, false);


</script>

</html>